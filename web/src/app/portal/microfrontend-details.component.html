<div>
  <div *ngIf="outlet.isActivated == false" class="left">

    <h1>{{manifest.name}}</h1>
    <hr/>
    <mat-tab-group *ngIf="manifest.name">
     <!-- details -->

      <mat-tab label="Details">
        <div class="details">
          <!-- toolbar -->

            <mat-toolbar>
                <mat-toolbar-row>
                    <button mat-icon-button class="example-icon" [disabled]="!isDirty" (click)="save()">
                        <mat-icon>save</mat-icon>
                    </button>
                    <button mat-icon-button class="example-icon"   [disabled]="!isDirty" (click)="revert()">
                        <mat-icon>undo</mat-icon>
                    </button>
                </mat-toolbar-row>
            </mat-toolbar>

            <!-- header -->

            <div class="header">
                <mat-label>Name</mat-label>
                <div>{{manifest.name}}</div>

                <mat-label>Version</mat-label>
                <div>{{manifest.version}}</div>

                <mat-label>Commit</mat-label>
                <div>{{manifest.commitHash}}</div>

                <mat-label>Remote</mat-label>
                <div>{{manifest.remoteEntry}}</div>
            </div>

            <mat-divider></mat-divider>

          <!--  body -->

          <div class="body">
            <!-- features -->

            <div class="features">
              <mat-nav-list dense>
                <ng-container *ngFor="let feature of manifest.features; let index = index">
                  <a class="item" mat-list-item role="listitem" (click)="selectFeature(feature)">
                    <mat-icon matListItemIcon>view_array</mat-icon>
                    <span>{{feature.id == "" ? "Root" : feature.id}}</span>
                    <mat-slide-toggle color="primary"  [disabled] ="selectedFeature !== feature" [ngModel]="enabled[index]" (toggleChange)="toggleEnabled(index)"></mat-slide-toggle>
                  </a>
                  <mat-divider></mat-divider>
                </ng-container>


              </mat-nav-list>
            </div>

            <!-- details -->

              <form class="feature-details" #form *ngIf="selectedFeature != undefined" [formGroup]="formGroup" novalidate>
                  <!-- id -->

                  <mat-form-field>
                      <mat-label>Id</mat-label>
                      <input type="text" [disabled]="true" matInput id="id" name="id" formControlName="id">
                  </mat-form-field>

                  <!-- label -->

                  <mat-form-field>
                      <mat-label>Label</mat-label>
                      <input type="text" matInput id="label" name="label" formControlName="label">
                  </mat-form-field>

                  <!-- descirption -->

                  <mat-form-field>
                      <mat-label>Description</mat-label>
                      <input type="text" matInput id="description" name="description" formControlName="description">
                  </mat-form-field>

                <!-- visibility -->

                <mat-form-field>
                  <mat-label>Visibility</mat-label>
                    <chips [allValues]="allVisibilities" placeholder="Add visibility" id="visibility" name="visibility" formControlName="visibility"></chips>
                </mat-form-field>

                <!-- permissions -->

                <mat-form-field>
                    <mat-label>Permissions</mat-label>
                    <chips [allValues]="allPermissions" placeholder="Add permission" id="permissions" name="permissions" formControlName="permissions"></chips>
                </mat-form-field>

                  <!-- category -->

                  <mat-form-field>
                      <mat-label>Categories</mat-label>
                      <chips [allValues]="allCategories" placeholder="Add category" id="categories" name="categories" formControlName="categories"></chips>
                  </mat-form-field>

                  <!-- tags -->

                  <mat-form-field>
                      <mat-label>Tags</mat-label>
                      <chips [allValues]="allTags" placeholder="Add tag" id="tags" name="tags"  formControlName="tags"></chips>
                  </mat-form-field>
              </form>
            </div>
          </div>
      </mat-tab>

      <!-- raw -->

      <mat-tab label="Raw">
        <!-- component -->

        <!--monaco-editor [options]="{}" [model]="model" [(ngModel)]="manifest" name="raw_manifest" [id]="'raw_manifest'"></monaco-editor-->

        <textarea>{{manifest | json}}</textarea>
      </mat-tab>
    </mat-tab-group>
  </div>

  <!-- router outlet -->

  <router-outlet  #outlet="outlet"></router-outlet>
</div>

